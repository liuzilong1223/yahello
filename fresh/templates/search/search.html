{%extends 'commodity/base.html'%}

{%block left%} {%endblock left%}

{%block right%}
    <ul class="goods_type_list clearfix">
        {%for i in page_obj%}
            <li>
                <a href="/{{i.object.id}}/"><img src="/static/{{i.object.gimages}}"></a>
                <h4><a href="/{{i.object.id}}/">{{i.object.gtitle}}</a></h4>
                <div class="operate">
                    <span class="prize">￥{{i.object.gprice}}</span>
                    <span class="unit">{{i.object.gprice}}/{{i.object.gunit}}</span>
                    <a href="#" class="add_goods" title="加入购物车"></a>
                </div>
            </li>
        {%endfor%}
    </ul>

    <div class="pagenation">
        {%if page_obj.has_previous%}
            <a href="?q={{query}}&;page=1">首页</a>
            <a href="?q={{query}}&;page={{page_obj.number|add:-1}}"><上一页</a>
        {%endif%}

        {%for index in page_range%}
            {%if index == page_obj.number%}
                <a href="#" class="active">{{index}}</a>
            {%else%}
                <a href="?q={{query}}&;page={{index}}">{{index}}</a>
            {%endif%}
        {%endfor%}

        {%if page_obj.has_next%}
            <a href="?q={{query}}&;page={{page_obj.number|add:1}}">下一页></a>
            <a href="?q={{query}}&;page={{page_obj.paginator.num_pages}}">末页</a>
        {%endif%}
    </div>
{%endblock right%}
